<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Collaborative Analysis of Spatiotemporal Data</title>

    <link rel="stylesheet" href="./style/style.css"/>
    
    <script src="/npm/jquery/dist/jquery.min.js"></script>
    <link rel="stylesheet" href="/npm/jquery-contextmenu/dist/jquery.contextMenu.min.css"/>
    <link rel="stylesheet" href="/npm/font-awesome/css/font-awesome.min.css"/>

    <script src="/npm/jquery-contextmenu/dist/jquery.contextMenu.min.js"></script>
    <script src="http://d3js.org/d3.v4.min.js"></script>
  </head>
  <body>
    <div id = "mainGraph"></div>

    <!--
    <div id = "subGraph"></div>

    <div id = "provenance">
        <img id = "provenanceImg">
    </div>
    -->

    <div id = "PadModal" class = "modal"></div>

    <script src="/npm/requirejs/require.js"></script>

    <script>
        require(["i2g", "color-scheme"], function(i2g, colorScheme) {
            /*
            var subGraph = i2g({
                container: "#subGraph",
                width: window.innerWidth * 0.4 - 20,
                height: window.innerHeight * 0.5 - 20,
                domain: [0, 1],
                graph: {nodes: [], links: []},
                colorScheme: colorScheme
            });
            */
            var mainGraph = i2g({
                container: "#mainGraph",
                //subI2g: subGraph,
                width: window.innerWidth - 20,
                height: window.innerHeight - 20,
                domain: [0, 1],
                graph: {nodes: [], links: []},
                colorScheme: colorScheme
            });
            
            //$("#provenance").width(window.innerWidth * 0.4 - 20);
            //$("#provenance").height(window.innerHeight *0.5 - 20);
            
            $(window).resize((d) => {
                var width1 = window.innerWidth - 20,
                    height1 = window.innerHeight - 20;
                    //width2 = window.innerWidth * 0.4 - 20,
                    //height2 = window.innerHeight *0.5 - 20;
                mainGraph.updateScreen(width1, height1);
                mainGraph.update();
                //subGraph.updateScreen(width2, height2);
                //subGraph.update();
                //$("#provenance").width(window.innerWidth * 0.4 - 20);
                //$("#provenance").height(window.innerHeight *0.5 - 20);
            });

        });
    </script>
  </body>
</html>
